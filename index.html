<!DOCTYPE HTML>
<html>
	<head>
    <title>Hub-Beats</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Hubert, Nguyen, Music, Ember, javascript, Developer," />
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" type="text/css" href="css/backgroundSlide.css" />
		<script src="js/libs/handlebars-1.0.rc.4.js"></script>
		<script src="js/libs/jquery-2.0.2.js"></script>
		<script src="js/libs/ember.js"></script>
    <script src="js/libs/mousetrap.js"></script>
		<script src="js/app.js"></script>
		<script src="js/fixtures.js"></script>
		<script src="tests/load-tests.js"></script>
	</head>
	<body>
	<script type="text/x-handlebars">
    <div id="page">
      <ul class="cb-slideshow">
        <li><span>Image 01</span><div><h3>re·lax·a·tion</h3></div></li>
        <li><span>Image 02</span><div><h3>qui·e·tude</h3></div></li>
        <li><span>Image 03</span><div><h3>bal·ance</h3></div></li>
        <li><span>Image 04</span><div><h3>e·qua·nim·i·ty</h3></div></li>
        <li><span>Image 05</span><div><h3>com·po·sure</h3></div></li>
        <li><span>Image 06</span><div><h3>se·ren·i·ty</h3></div></li>
      </ul>
    </div>
    <div class="container">
      {{outlet}}
      {{render 'nowPlaying'}}
    </div>
	</script>

    <script type="text/x-handlebars" id="index">
      <div class="album-list">
        {{#each}}
          <div class="album">
            {{#linkTo 'album' this}}
              <img class="album-image" {{bindAttr src=artwork}}>
            {{/linkTo}}
            <p class="album-name">{{name}}</p>
            <p class="album-artist">{{artist}}</p>
            <p class="song-count">
              8 songs
              {{#if isExplicit}}<span class="explicit">EXPLICIT</span>{{/if}}
            </p>
          </div>
        {{/each}}
      </div>
    </script>

    <script type="text/x-handlebars" id="album">
      <div class="album-info">
        <img {{bindAttr src=artwork}}>
        <h1>{{name}}</h1>
        <h2>{{artist}}</h2>
      </div>

      <table class="album-listing">
        {{#each songs itemController="songItem"}}
          <tr {{bindAttr class="isPlaying"}}>
            <td class="song-track">
              <span class="track-number">{{track}}</span>
              <span class="play" {{action 'play' this}}>▶</span>
            </td>
            <td class="song-name">{{name}}</td>
            <td class="song-duration">{{format-duration duration}}</td>
          </tr>
        {{/each}}
        <tr>
          <td class="total-duration" colspan="3">Total Time: {{format-duration totalDuration}}</td>
        </tr>
      </table>
    </script>

    <script type="text/x-handlebars" id="nowPlaying">
      <footer class="now-playing">
        {{#if model}}
          <img class="now-playing-artwork" {{bindAttr src=album.artwork}}>
          <div class="now-playing-body">
            <p class="now-playing-details">
              <span class="now-playing-name">{{name}}</span> -
              <span class="now-playing-artist">{{album.artist}}</span>
            </p>
            <div class="now-playing-player">
              {{audio-player src=url}}
            </div>
          </div>
        {{else}}
          <span class="now-playing-empty">Select a song to start playing.</span>
        {{/if}}
      </footer>
    </script>

    <script type="text/x-handlebars" data-template-name="components/audio-time">
      {{#if isShowingRemaining}}
        <p class="remaining-time">{{format-duration remainingTime}}</p>
      {{else}}
        <p class="current-time">{{format-duration currentTime}}</p>
      {{/if}}
    </script>

    <script type="text/x-handlebars" data-template-name="components/audio-player">

      {{#if isPlaying}}
        <button {{action "pause"}} class="pause">❙❙</button>
        {{audio-time duration=duration currentTime=currentTime}}
      {{else}}
        <button {{action "play" }} class="play">▶</button>
      {{/if}}
     <audio {{bindAttr src=src}} autoplay ></audio>
     <input type="range"></input>
    </script>

    <div id="qunit" style="display: none"></div>
    <div id="qunit-fixture" style="display: none"></div>
  </body>
</html>


